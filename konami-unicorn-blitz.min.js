var Konami={imagePath:"http://github.com/jmhobbs/Konami-Unicorn-Blitz/raw/master/",imageCount:4,imageFormat:".gif",unicornCount:50,words:"UNICORNS",hideAfter:0,hideTimeoutId:null,code:[38,38,40,40,37,39,37,39,66,65],index:0,idPrefix:"konami_",active:false,elements:[],init:function(){document.onkeyup=Konami.keyUp},keyUp:function(a){if(!a){if(window.event){a=window.event}else{return}}if(typeof(a.keyCode)=="number"){a=a.keyCode}else{if(typeof(a.which)=="number"){a=a.which}else{if(typeof(a.charCode)=="number"){a=a.charCode}else{return}}}if(a==Konami.code[Konami.index]){++Konami.index;if(Konami.index==Konami.code.length){if(Konami.active){Konami.remove()}else{Konami.unicorns()}Konami.index=0}}else{Konami.index=0}},unicorns:function(){Konami.active=true;document.body.style.overflow="hidden";var d=window.innerHeight;var c=window.innerWidth;for(i=0;i<Konami.unicornCount;++i){var b=Konami.idPrefix+"_image_"+i;var g=document.createElement("img");g.setAttribute("src",Konami.imagePath+((i%Konami.imageCount)+1)+Konami.imageFormat);var h=Math.floor(Math.random()*d)-100;var j=Math.floor(Math.random()*c)-100;g.setAttribute("style","position: fixed; z-index: 9998; top: "+h+"px; left: "+j+"px;");g.setAttribute("id",b);g.setAttribute("class","konami_code");Konami.elements.push(b);document.body.appendChild(g)}var e=document.createElement("div");var f=Konami.idPrefix+"_words";Konami.elements.push(f);e.setAttribute("id",f);e.setAttribute("class","konami_code");e.innerHTML=Konami.words;var a=(Math.floor(h/2)-100);var a=(a<0)?0:a;e.setAttribute("style","font-size: 100px; text-shadow: #FFF 0 0 20px; font-weight: bold; position: fixed; top: "+a+"px; width: 100%; text-align: center; z-index: 9999;");document.body.appendChild(e);if(Konami.hideAfter>0){Konami.hideAfterTimeoutId=setTimeout(function(){Konami.remove()},Konami.hideAfter)}},remove:function(){if(Konami.hideAfterTimeoutId!=null){clearTimeout(Konami.hideAfterTimeoutId);Konami.hideAfterTimeoutId=null}Konami.active=false;document.body.style.overflow="auto";while(Konami.elements.length){var a=Konami.elements.pop();document.body.removeChild(document.getElementById(a))}}};Konami.init();
